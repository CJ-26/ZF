<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <img src="./1.jpg" alt="">
  <a href="http://127.0.0.1:5500/1.jpg" download="2208.jpg" >;;;;;;;;;;;;</a>
  <div id="box">
    uuuuuu
  </div>
</body>
</html>
<script>
let dox = document.getElementById("box")
dox.onclick=function(){
      let image = new Image()
      image.setAttribute('crossOrigin', 'anonymous')
      image.src = "./1.jpg"
      image.onload = () => {
       let canvas = document.createElement('canvas')
       canvas.width = image.width
       canvas.height = image.height
       let ctx = canvas.getContext('2d')
       ctx.drawImage(image, 0, 0, image.width, image.height)
       canvas.toBlob((blob) => {
        let url = URL.createObjectURL(blob)
         download(url,"1.jpg")
        // 用完释放URL对象
         URL.revokeObjectURL(url)
       })
     } 
}


function download(href, name) {
  let eleLink = document.createElement('a')
   eleLink.download = name
   eleLink.href = href
   eleLink.click()
   eleLink.remove()
 }






















let str = "111"
let num = 111
let bool = true
let un = undefined
let n = null
let arr = [1,2,3]
let obj = {
  name:"xx"
}
//https://122.19.125.29:80/userfiles/public/static/aded64le-494a-4304-96ef-0cled062f32a.png
/*
typeof:
console.log(typeof str)string
console.log(typeof num)number
console.log(typeof bool)boolean
console.log(typeof un)undefined
console.log(typeof n) object
console.log(typeof arr)object
console.log(typeof arr)object


*/
// console.log(str instanceof String)
// console.log(num instanceof Number)
// console.log(bool instanceof Boolean)
// console.log(un instanceof undefined)
// console.log(n instanceof null)
// console.log(arr instanceof Array)
// console.log(obj instanceof Object)



let str_ = new String('dddd')
console.log(Object.prototype.toString.call(str_))


//   function add(...a) {
//     let res = 0;
//     a.forEach(item => res += item);
//     let fn = function (...b) {
//       b.forEach(item => res += item);
//       return fn
//     }
//     fn.toString = function () {
//       return res
//     }
//     return fn
//   }

//   let sum = add(1,2,3)(2)(2)
// console.log(sum)

function add(...arge){
  let m=0;
  arge.forEach(item=>{m+=item; fn([])})
   return function sum(...arges){
   fn(arges)
   return sum
  }
  function fn(a){
   if(a.length !=0){
    a.forEach(val=>{
         m+=val
     })
   }
     return  m
  }
}

let h = add(1,2,3)
console.log(h)
</script>
